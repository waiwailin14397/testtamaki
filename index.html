<html>
    <head>
        <meta charset="utf-8">
        <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
        <title>Tamaki App</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
      </head>
    <body>
        <!-- <div id="output"></div> -->
        <iframe src="./views/header.html" width="100%" height="5%" frameborder="0"></iframe>
        <iframe src="./views/menu.html" width="100%" height="100%" frameborder="0"></iframe>
        <div class="container-fluid">
            <div id="id"></div>
            <div id="name"></div>
            <div id="pictureurl"></div>
        </div>

        <script>
            window.onload = function () {
                // Initialize LIFF
                liff.init({
                    liffId: '2002392025-Zk8LPK6K'
                })
                .then(() => {
                    // LIFF initialization successful
                    var msg = "LIFF initialized successful"

                    liff.getProfile()
                        .then((profile) => {
                            console.log('User Profile:', profile);
                            // Access specific profile information
                            var userId = profile.userId;
                            var displayName = profile.displayName;
                            var pictureUrl = profile.pictureUrl;
                        })
                        .catch((error) => {
                            console.error('Error getting user profile', error);
                        });

                        localStorage.setItem('data', msg);
                        localStorage.setItem('userid', userId);
                        localStorage.setItem('displayname', displayName);

                    // Now you can use other LIFF API functions
                })
                .catch((error) => {
                    // Handle initialization failure
                    console.error('LIFF initialization failed', error);
                });
            };
        </script>
    </body>
</html>